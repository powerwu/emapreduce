# 项目管理

创建E-MapReduce集群后，您可以在数据开发中创建项目，并在项目中进行作业的编辑和工作流的调度。新建项目之后，您可以对项目进行管理，为项目关联集群资源、添加项目成员以及设置全局变量。

-   已创建集群，具体请参见[创建集群](/cn.zh-CN/集群管理/集群配置/创建集群.md)。
-   已通过主账号登录[阿里云E-MapReduce控制台](https://emr.console.aliyun.com)。

    **说明：** 只有主账号才能创建项目、添加项目成员和添加集群资源，即**新建项目**、**用户管理**和**集群设置**只对主账号管理员可见。


## 新建项目

1.  单击上方的**数据开发**。

    主账号可以查看该账号下的所有项目列表，RAM用户仅可以查看具有开发权限的项目列表。如需为RAM用户添加项目开发权限，则需要主账号来配置，详情请参见[用户管理](#section_wlm_5d7_oy0)。

2.  单击右上角的**新建项目**。

3.  在**新建项目**对话框中，输入**项目名称**和**项目描述**，从**资源组选择**列表中，选择已有的资源组。

    **说明：** 如果不指定资源组，项目会加入默认的资源组，资源组使用详情请参见[使用资源组](/cn.zh-CN/集群管理/集群配置/使用资源组.md)。

4.  单击**创建**。

    在**项目列表**页面，可查看或者操作新增的项目。


## 查看项目基本信息

1.  单击上方的**数据开发**。

2.  在**项目列表**页面，单击待查看基本信息的项目的**项目ID**。

3.  单击上方的**项目管理**。

    在**基本信息**页面，可以查看该项目的项目名称、创建时间、Created User和项目描述。


## 通用配置

**说明：** 开启安全模式后，Shell和Hive类型的作业无法运行。

安全模式适用于，需要对E-MapReduce数据开发运行的作业进行权限管理的场景。

在开启安全模式的项目中提交作业时，默认以当前RAM用户同名的EMR用户执行作业，主账号则以默认hadoop用户执行。开启安全模式后，需要在运行集群的用户管理中添加提交作业的EMR用户，详情请参见[管理用户](/cn.zh-CN/集群管理/集群规划/管理用户.md)。

## 用户管理

可以通过以下步骤为RAM用户添加或删除某个项目的开发权限。

1.  单击上方的**数据开发**。

2.  在**项目列表**页面，单击待查看基本信息的项目的**项目ID**。

3.  单击上方的**项目管理**。

4.  在左侧导航栏中，单击**用户管理**。

5.  在**用户管理**页面，可进行如下操作。

    -   添加用户。

        1.  单击右上角的**添加用户**。
        2.  勾选主账号下的RAM用户到该项目。
        3.  单击**添加**。

            在**用户管理**页面，可以查看新增的用户信息。

        **说明：** 被添加的RAM用户将成为该项目的成员，拥有查看、开发该项目下的作业和工作流的权限。

    -   删除用户。

        在**用户管理**页面，单击待删除用户所在行的**删除**。


## 集群设置

通过以下步骤，可以为项目设置集群资源，使该项目中的作业运行在关联的集群上。

1.  单击上方的**数据开发**。

2.  在**项目列表**页面，单击待查看基本信息的项目的**项目ID**。

3.  单击上方的**项目管理**。

4.  在左侧导航栏中，单击**集群设置**。

5.  在**集群设置**页面，可进行如下操作。

    -   关联集群资源。
        1.  单击右上角的**添加集群**。
        2.  从**选择集群**下拉列表中选择已购买的包年包月或按量付费的集群（不包括通过集群模板创建的集群）。
        3.  单击**确定**。

            在**集群设置**页面，可查看新增的集群信息。

    -   取消关联集群资源。

        在**集群设置**页面，单击集群所在行的**删除**，取消关联的集群资源。

    -   修改配置。
        1.  在**集群设置**页面，单击集群所在行的**修改配置**。
        2.  在**修改配置**对话框中，设置提交作业到该集群的队列和用户信息。

            |参数|描述|
            |--|--|
            |**提交作业默认用户**|设置项目使用所选集群提交作业时的默认用户，默认值是hadoop，默认用户只能有一个。|
            |**提交作业默认队列**|设置项目使用所选集群提交作业时的默认队列，默认作业提交到default队列。|
            |**提交作业用户白名单**|设置可以提交作业的用户，如果有多个用户，可以通过英文半角逗号（,）分隔。|
            |**提交作业队列白名单**|设置项目中的作业可以运行在所选集群的队列，如果有多个队列，可以通过英文半角逗号（,）分隔。|

        3.  配置客户端白名单：配置可以提交作业的客户端，您可以使用Master节点或Gateway节点。通过ECS自建的Gateway暂不支持在此处配置。
        4.  单击**确定**。

## 变量定义

您可以通过以下步骤设置项目级别的自定义变量，这些变量可以被本项目中的作业项目作为全局变量调用。

1.  单击上方的**数据开发**。

2.  在**项目列表**页面，单击待查看基本信息的项目的**项目ID**。

3.  单击上方的**项目管理**。

4.  在左侧导航栏中，单击**变量定义**。

5.  在**变量定义**页面，可进行如下操作。

    -   添加自定义变量。
        1.  单击右上角的**添加**。
        2.  在添加自定义变量对话框中，设置**变量名称**和**变量值**。

            可以根据需要，选择是否为变量名的变量值加密。作业中以`${ VariableName}`的形式调用变量。例如，您添加变量名为ENV\_ABC，变量值为12345，不勾选**是否为密码**。Shell类型作业内容示例如下。

            ```
            echo ${ENV_ABC}
            ```

            返回结果如下。

            ```
            12345
            ```

            这里环境变量的设置相当于执行了如下的脚本。

            ```
            export ENV_ABC=12345
            ```

        3.  单击**确定**。

            在**变量定义**页面，可查看新增的变量信息。

    -   删除自定义变量。

        在**变量定义**页面，单击待删除变量所在行的**删除**。


## 问题反馈

如果您在使用阿里云E-MapReduce过程中有任何疑问，欢迎您扫描下面的二维码加入钉钉群进行反馈。

![emr_dingding](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/2440659951/p81620.png)

